<script src="http://momentjs.com/downloads/moment-with-locales.min.js"></script>
<%# this code will stop working in 2020 %>
<script src="http://momentjs.com/downloads/moment-timezone-with-data-2010-2020.min.js"></script>

<script>
function worldClock() {
	var now = moment();
  	$(".clock").each(function() {
		var timezone = $(this).data('tz');
        <%# we check the timezone to make sure it's valid %>
		if (moment.tz.zone(timezone)) {
			var tz_now = now.tz(timezone);
			$(this).html("<div class='date'>"+tz_now.format('MMMM Do YYYY')+"</div>");
			$(this).append("<div class='time'>"+tz_now.format('h:mm:ss a')+"</div>");
			$(this).append("<div class='timezone'>"+timezone+"</div>");
		} else {
			$(this).html("Unrecognized time zone "+timezone);
		}
	});
	setTimeout("worldClock()", 1000)
}

$(function() {
	worldClock();
});
</script>

<style>
	.clock {
	float: left;
	padding: 1em;
	text-align: center;
	}

	.time {
	font-size:1.4em;
	color:#005288;
	padding: 4px 0;
	}

	.timezone {
	font-size:1.1em;
	font-weight: 500;
	}
</style>

<div class="worldclock">
  <%# Some other time zones:  America/St_Johns Antarctica/Vostok Asia/Almaty Asia/Istanbul Asia/Novosibirsk %>
  <%#              Asia/Samarkand Australia/Adelaide Australia/Adelaide Etc/GMT+9 Europe/Vilnius Asia/Ho_Chi_Minh %>
  <%# this is not an exhaustive list, you also can use Etc/GMT+n or Etc/GMT-n where n is an offset. %>
	<div data-tz="GMT" class="clock">
	</div>

	<div data-tz="Asia/Singapore" class="clock">
	</div>

	<div data-tz="America/New_York" class="clock">
	</div>
</div>







